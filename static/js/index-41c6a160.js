import{b as J,d as D,bZ as fe,b_ as me,a as d,b$ as L,t as te,c0 as W,c1 as ge,w as K,c2 as Fe,c3 as ze,c4 as Oe,c5 as De,c6 as Ne,c7 as ae,c8 as je,c9 as G,ca as U,cb as qe,aV as We,r as M,cc as he,Q as E,cd as z,aR as Ge,ce as Ue,bA as be,az as q,aJ as Je,cf as Ke,C as He,cg as Ye,ch as R,ci as ce,cj as Qe,I as O,m as ve,p as ne,ck as Ze,cl as Xe,cm as et,cn as tt,bL as nt,f as at,g as lt,h as ot,o as it,c as rt,i as P,l as Y,bJ as st,j as Q,as as Z,s as X,aT as ct,aQ as ut}from"./index-eb6d4032.js";import{B as dt}from"./index-3d95807e.js";import{l as ft}from"./index-500d0ff3.js";const[mt,gt]=J("form"),ht={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:L,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:te,showErrorMessage:te,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var bt=D({name:mt,props:ht,emits:["submit","failed"],setup(e,{emit:l,slots:i}){const{children:r,linkChildren:a}=fe(ge),n=o=>o?r.filter(u=>o.includes(u.name)):r,V=o=>new Promise((u,k)=>{const w=[];n(o).reduce((H,$)=>H.then(()=>{if(!w.length)return $.validate().then(F=>{F&&w.push(F)})}),Promise.resolve()).then(()=>{w.length?k(w):u()})}),C=o=>new Promise((u,k)=>{const w=n(o);Promise.all(w.map(g=>g.validate())).then(g=>{g=g.filter(Boolean),g.length?k(g):u()})}),v=o=>{const u=r.find(k=>k.name===o);return u?new Promise((k,w)=>{u.validate().then(g=>{g?w(g):k()})}):Promise.reject()},p=o=>typeof o=="string"?v(o):e.validateFirst?V(o):C(o),h=o=>{typeof o=="string"&&(o=[o]),n(o).forEach(k=>{k.resetValidation()})},T=()=>r.reduce((o,u)=>(o[u.name]=u.getValidationStatus(),o),{}),f=(o,u)=>{r.some(k=>k.name===o?(k.$el.scrollIntoView(u),!0):!1)},m=()=>r.reduce((o,u)=>(u.name!==void 0&&(o[u.name]=u.formValue.value),o),{}),x=()=>{const o=m();p().then(()=>l("submit",o)).catch(u=>{l("failed",{values:o,errors:u}),e.scrollToError&&u[0].name&&f(u[0].name)})},y=o=>{W(o),x()};return a({props:e}),me({submit:x,validate:p,getValues:m,scrollToField:f,resetValidation:h,getValidationStatus:T}),()=>{var o;return d("form",{class:gt(),onSubmit:y},[(o=i.default)==null?void 0:o.call(i)])}}});const vt=K(bt);function xe(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function xt(e,l){if(xe(e)){if(l.required)return!1;if(l.validateEmpty===!1)return!0}return!(l.pattern&&!l.pattern.test(String(e)))}function kt(e,l){return new Promise(i=>{const r=l.validator(e,l);if(Oe(r)){r.then(i);return}i(r)})}function ue(e,l){const{message:i}=l;return De(i)?i(e,l):i||""}function _t({target:e}){e.composing=!0}function de({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function yt(e,l){const i=Fe();e.style.height="auto";let r=e.scrollHeight;if(Ne(l)){const{maxHeight:a,minHeight:n}=l;a!==void 0&&(r=Math.min(r,a)),n!==void 0&&(r=Math.max(r,n))}r&&(e.style.height=`${r}px`,ze(i))}function Ct(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function A(e){return[...e].length}function ee(e,l){return[...e].slice(0,l).join("")}const[St,I]=J("field"),Vt={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:L,formatter:Function,clearIcon:G("clear"),modelValue:Ye(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:G("focus"),formatTrigger:G("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},pt=ae({},je,Vt,{rows:L,type:G("text"),rules:Array,autosize:[Boolean,Object],labelWidth:L,labelClass:U,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var wt=D({name:St,props:pt,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:l,slots:i}){const r=qe(),a=We({status:"unvalidated",focused:!1,validateMessage:""}),n=M(),V=M(),C=M(),{parent:v}=he(ge),p=()=>{var t;return String((t=e.modelValue)!=null?t:"")},h=t=>{if(R(e[t]))return e[t];if(v&&R(v.props[t]))return v.props[t]},T=E(()=>{const t=h("readonly");if(e.clearable&&!t){const s=p()!=="",c=e.clearTrigger==="always"||e.clearTrigger==="focus"&&a.focused;return s&&c}return!1}),f=E(()=>C.value&&i.input?C.value():e.modelValue),m=E(()=>{var t;const s=h("required");return s==="auto"?(t=e.rules)==null?void 0:t.some(c=>c.required):s}),x=t=>t.reduce((s,c)=>s.then(()=>{if(a.status==="failed")return;let{value:b}=f;if(c.formatter&&(b=c.formatter(b,c)),!xt(b,c)){a.status="failed",a.validateMessage=ue(b,c);return}if(c.validator)return xe(b)&&c.validateEmpty===!1?void 0:kt(b,c).then(_=>{_&&typeof _=="string"?(a.status="failed",a.validateMessage=_):_===!1&&(a.status="failed",a.validateMessage=ue(b,c))})}),Promise.resolve()),y=()=>{a.status="unvalidated",a.validateMessage=""},o=()=>l("endValidate",{status:a.status,message:a.validateMessage}),u=(t=e.rules)=>new Promise(s=>{y(),t?(l("startValidate"),x(t).then(()=>{a.status==="failed"?(s({name:e.name,message:a.validateMessage}),o()):(a.status="passed",s(),o())})):s()}),k=t=>{if(v&&e.rules){const{validateTrigger:s}=v.props,c=ce(s).includes(t),b=e.rules.filter(_=>_.trigger?ce(_.trigger).includes(t):c);b.length&&u(b)}},w=t=>{var s;const{maxlength:c}=e;if(R(c)&&A(t)>+c){const b=p();if(b&&A(b)===+c)return b;const _=(s=n.value)==null?void 0:s.selectionEnd;if(a.focused&&_){const S=[...t],B=S.length-+c;return S.splice(_-B,B),S.join("")}return ee(t,+c)}return t},g=(t,s="onChange")=>{const c=t;t=w(t);const b=A(c)-A(t);if(e.type==="number"||e.type==="digit"){const S=e.type==="number";t=Qe(t,S,S)}let _=0;if(e.formatter&&s===e.formatTrigger){const{formatter:S,maxlength:B}=e;if(t=S(t),R(B)&&A(t)>+B&&(t=ee(t,+B)),n.value&&a.focused){const{selectionEnd:j}=n.value,se=ee(c,j);_=A(S(se))-A(se)}}if(n.value&&n.value.value!==t)if(a.focused){let{selectionStart:S,selectionEnd:B}=n.value;if(n.value.value=t,R(S)&&R(B)){const j=A(t);b?(S-=b,B-=b):_&&(S+=_,B+=_),n.value.setSelectionRange(Math.min(S,j),Math.min(B,j))}}else n.value.value=t;t!==e.modelValue&&l("update:modelValue",t)},H=t=>{t.target.composing||g(t.target.value)},$=()=>{var t;return(t=n.value)==null?void 0:t.blur()},F=()=>{var t;return(t=n.value)==null?void 0:t.focus()},N=()=>{const t=n.value;e.type==="textarea"&&e.autosize&&t&&yt(t,e.autosize)},Ce=t=>{a.focused=!0,l("focus",t),q(N),h("readonly")&&$()},Se=t=>{a.focused=!1,g(p(),"onBlur"),l("blur",t),!h("readonly")&&(k("onBlur"),q(N),Ze())},oe=t=>l("clickInput",t),Ve=t=>l("clickLeftIcon",t),pe=t=>l("clickRightIcon",t),we=t=>{W(t),l("update:modelValue",""),l("clear",t)},ie=E(()=>{if(typeof e.error=="boolean")return e.error;if(v&&v.props.showError&&a.status==="failed")return!0}),Ie=E(()=>{const t=h("labelWidth"),s=h("labelAlign");if(t&&s!=="top")return{width:z(t)}}),Be=t=>{t.keyCode===13&&(!(v&&v.props.submitOnEnter)&&e.type!=="textarea"&&W(t),e.type==="search"&&$()),l("keypress",t)},re=()=>e.id||`${r}-input`,Ee=()=>a.status,Pe=()=>{const t=I("control",[h("inputAlign"),{error:ie.value,custom:!!i.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(i.input)return d("div",{class:t,onClick:oe},[i.input()]);const s={id:re(),ref:n,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:h("disabled"),readonly:h("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${r}-label`:void 0,onBlur:Se,onFocus:Ce,onInput:H,onClick:oe,onChange:de,onKeypress:Be,onCompositionend:de,onCompositionstart:_t};return e.type==="textarea"?d("textarea",s,null):d("input",ve(Ct(e.type),s),null)},Ae=()=>{const t=i["left-icon"];if(e.leftIcon||t)return d("div",{class:I("left-icon"),onClick:Ve},[t?t():d(O,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},Te=()=>{const t=i["right-icon"];if(e.rightIcon||t)return d("div",{class:I("right-icon"),onClick:pe},[t?t():d(O,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Me=()=>{if(e.showWordLimit&&e.maxlength){const t=A(p());return d("div",{class:I("word-limit")},[d("span",{class:I("word-num")},[t]),ne("/"),e.maxlength])}},Re=()=>{if(v&&v.props.showErrorMessage===!1)return;const t=e.errorMessage||a.validateMessage;if(t){const s=i["error-message"],c=h("errorMessageAlign");return d("div",{class:I("error-message",c)},[s?s({message:t}):t])}},Le=()=>{const t=h("labelWidth"),s=h("labelAlign"),c=h("colon")?":":"";if(i.label)return[i.label(),c];if(e.label)return d("label",{id:`${r}-label`,for:i.input?void 0:re(),onClick:b=>{W(b),F()},style:s==="top"&&t?{width:z(t)}:void 0},[e.label+c])},$e=()=>[d("div",{class:I("body")},[Pe(),T.value&&d(O,{ref:V,name:e.clearIcon,class:I("clear")},null),Te(),i.button&&d("div",{class:I("button")},[i.button()])]),Me(),Re()];return me({blur:$,focus:F,validate:u,formValue:f,resetValidation:y,getValidationStatus:Ee}),Ge(Ue,{customValue:C,resetValidation:y,validateWithTrigger:k}),be(()=>e.modelValue,()=>{g(p()),y(),k("onChange"),q(N)}),Je(()=>{g(p(),e.formatTrigger),q(N)}),Ke("touchstart",we,{target:E(()=>{var t;return(t=V.value)==null?void 0:t.$el})}),()=>{const t=h("disabled"),s=h("labelAlign"),c=Ae(),b=()=>{const _=Le();return s==="top"?[c,_].filter(Boolean):_||[]};return d(He,{size:e.size,class:I({error:ie.value,disabled:t,[`label-${s}`]:s}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Ie.value,valueClass:I("value"),titleClass:[I("label",[s,{required:m.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:c&&s!=="top"?()=>c:null,title:b,value:$e,extra:i.extra})}}});const It=K(wt),[ke,Bt]=J("radio-group"),Et={shape:String,disabled:Boolean,iconSize:L,direction:String,modelValue:U,checkedColor:String},_e=Symbol(ke);var Pt=D({name:ke,props:Et,emits:["change","update:modelValue"],setup(e,{emit:l,slots:i}){const{linkChildren:r}=fe(_e),a=n=>l("update:modelValue",n);return be(()=>e.modelValue,n=>l("change",n)),r({props:e,updateValue:a}),Xe(()=>e.modelValue),()=>{var n;return d("div",{class:Bt([e.direction]),role:"radiogroup"},[(n=i.default)==null?void 0:n.call(i)])}}});const At=K(Pt),ye={name:U,disabled:Boolean,iconSize:L,modelValue:U,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var Tt=D({props:ae({},ye,{bem:et(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:te,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:l,slots:i}){const r=M(),a=f=>{if(e.parent&&e.bindGroup)return e.parent.props[f]},n=E(()=>{if(e.parent&&e.bindGroup){const f=a("disabled")||e.disabled;if(e.role==="checkbox"){const m=a("modelValue").length,x=a("max"),y=x&&m>=+x;return f||y&&!e.checked}return f}return e.disabled}),V=E(()=>a("direction")),C=E(()=>{const f=e.checkedColor||a("checkedColor");if(f&&e.checked&&!n.value)return{borderColor:f,backgroundColor:f}}),v=E(()=>e.shape||a("shape")||"round"),p=f=>{const{target:m}=f,x=r.value,y=x===m||(x==null?void 0:x.contains(m));!n.value&&(y||!e.labelDisabled)&&l("toggle"),l("click",f)},h=()=>{var f,m;const{bem:x,checked:y,indeterminate:o}=e,u=e.iconSize||a("iconSize");return d("div",{ref:r,class:x("icon",[v.value,{disabled:n.value,checked:y,indeterminate:o}]),style:v.value!=="dot"?{fontSize:z(u)}:{width:z(u),height:z(u),borderColor:(f=C.value)==null?void 0:f.borderColor}},[i.icon?i.icon({checked:y,disabled:n.value}):v.value!=="dot"?d(O,{name:o?"minus":"success",style:C.value},null):d("div",{class:x("icon--dot__icon"),style:{backgroundColor:(m=C.value)==null?void 0:m.backgroundColor}},null)])},T=()=>{if(i.default)return d("span",{class:e.bem("label",[e.labelPosition,{disabled:n.value}])},[i.default()])};return()=>{const f=e.labelPosition==="left"?[T(),h()]:[h(),T()];return d("div",{role:e.role,class:e.bem([{disabled:n.value,"label-disabled":e.labelDisabled},V.value]),tabindex:n.value?void 0:0,"aria-checked":e.checked,onClick:p},[f])}}});const Mt=ae({},ye,{shape:String}),[Rt,Lt]=J("radio");var $t=D({name:Rt,props:Mt,emits:["update:modelValue"],setup(e,{emit:l,slots:i}){const{parent:r}=he(_e),a=()=>(r?r.props.modelValue:e.modelValue)===e.name,n=()=>{r?r.updateValue(e.name):l("update:modelValue",e.name)};return()=>d(Tt,ve({bem:Lt,role:"radio",parent:r,checked:a(),onToggle:n},e),tt(i,["default","icon"]))}});const Ft=K($t);const zt="/static/png/img-logo-bg-8deddcee.png";const le=e=>(ct("data-v-bc37b267"),e=e(),ut(),e),Ot={class:"w-full h-[58px] flex items-center px-[18px]"},Dt=le(()=>P("div",{class:"flex-1 flex justify-center"},[P("img",{class:"w-[67px] h-[20px]",alt:"logo",src:zt})],-1)),Nt={class:"px-[18px] mt-[30px]"},jt={class:"flex justify-center items-center text-[10px] mt-[20px]"},qt=["onClick"],Wt=le(()=>P("div",{class:"w-[16px] h-[16px] absolute left-[0px] top-[0px]"},null,-1)),Gt=le(()=>P("span",{class:"ml-[7px]"}," 我已阅读并同意",-1)),Ut={__name:"index",setup(e){at();const l=lt(),{proxy:i}=ot(),r=document.getElementById("app");r&&(r.style.backgroundColor="#fff");const a=M(!1);let n=M("0"),V=M(""),C=M("");const v=f=>{f===1?l.push("/user-agreement/index"):l.push("/privacy-agreement/index")},p=()=>{n.value==="1"?n.value="0":n.value="1"},h=()=>{history.back()},T=async()=>{if(n.value!=="1"){X("请勾选协议");return}let f={username:V.value,password:C.value};a.value=!0;const{data:m,code:x}=await ft(f);if(a.value=!1,x!==200)return X(m);i.$cache.local.set("token",m.token),i.$cache.local.setJSON("nickname",m.nickname),X("登录成功"),l.replace("/my")};return(f,m)=>{const x=O,y=It,o=dt,u=vt,k=Ft,w=At;return it(),rt("div",null,[P("div",Ot,[d(x,{name:"arrow-left",size:"24",onClick:h}),Dt]),P("div",Nt,[d(u,{onSubmit:T},{default:Y(()=>[d(y,{modelValue:Q(V),"onUpdate:modelValue":m[0]||(m[0]=g=>Z(V)?V.value=g:V=g),placeholder:"请输入用户号",class:"myField rounded-[20px]",rules:[{required:!0,message:"请输入用户名"}]},null,8,["modelValue"]),d(y,{modelValue:Q(C),"onUpdate:modelValue":m[1]||(m[1]=g=>Z(C)?C.value=g:C=g),placeholder:"请输入密码",class:"myField rounded-[20px] mt-[24px]",rules:[{required:!0,message:"请输入密码"}]},null,8,["modelValue"]),d(o,{round:"",loading:a.value,"loading-text":"登录中...",type:"success",class:"w-full btn",color:"linear-gradient(to right, #3CCAC8, #3CCAC8)","native-type":"onLogin"},{default:Y(()=>[ne("立即登录")]),_:1},8,["loading"])]),_:1}),P("div",jt,[P("div",{class:"flex relative items-center",onClick:st(p,["stop","prevent"])},[d(w,{modelValue:Q(n),"onUpdate:modelValue":m[2]||(m[2]=g=>Z(n)?n.value=g:n=g),"icon-size":"15px","checked-color":"#0BB1AF"},{default:Y(()=>[d(k,{name:"1"})]),_:1},8,["modelValue"]),Wt,Gt],8,qt),P("span",{class:"text-[#0BB1AF] mx-[4px]",onClick:m[3]||(m[3]=g=>v(1))},"用户协议"),ne(" 和 "),P("span",{class:"text-[#0BB1AF] mx-[4px]",onClick:m[4]||(m[4]=g=>v(2))},"隐私政策")])])])}}},Yt=nt(Ut,[["__scopeId","data-v-bc37b267"]]);export{Yt as default};
